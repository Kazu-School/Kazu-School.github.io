<html>
<script>
var data={593:["聖徳太子が摂政になる"],607:["小野妹子が随に送られる"],630:["第一回遣唐使"],645:["大化の改新"],663:["白村江の戦い"],672:["壬申の乱"],701:["大宝律令"],710:["平城京"],743:["墾田永年私財法"],784:["長岡京"],794:["平安京"],802:["坂上田村麻呂が胆沢城を作る"],866:["藤原良房が摂政になる"],887:["藤原基経が関白になる"],894:["遣唐使の停止"],935:["平将門の乱"],939:["藤原純友の乱"],1016:["藤原道長が摂政になる"],1069:["後三条天皇が荘園管理を始める"],1086:["白河上皇が院政を始める"],1156:["保元の乱"],1159:["平治の乱"],1167:["平清盛が太政大臣"],1185:["源頼朝が守護、地頭を設置する","平氏が滅びる"],1192:["源頼朝が征夷大将軍になる"],1221:["承久の乱"],1232:["御成敗式目"],1274:["文永の役"],1281:["弘安の役"],1333:["鎌倉幕府が滅びる","建武の新政"],1336:["南北朝に分かれ対立する"],1338:["足利尊氏が征夷大将軍になる"],1378:["足利義満が幕府を室町に移す"],1392:["南北朝が統一される"],1404:["勘合貿易"],1467:["応仁の乱"],1543:["ポルトガル人が鉄砲を伝える"],1549:["ザビエルがキリスト教を伝える"],1573:["室町幕府が滅びる"],1582:["天正遣欧少年使節が出発する"],1590:["豊臣秀吉が全国統一する"],1592:["豊臣秀吉が朝鮮侵略を始める"],1600:["関ケ原の戦い"],1603:["徳川家康が征夷大将軍になる"],1612:["幕領でのキリスト教禁止"],1615:["豊臣氏が滅ぶ","武家諸法度","禁中並公家諸法度"],1635:["参勤交代"],1637:["島原天草一揆"]};
var keys=Object.keys(data);
function fbutton(){
button=document.getElementById("button").textContent;
if (button=="start!"){
fstart();
}else if (button=="answer!"){
fanswer();
}
}
function fstart(){
answer=keys[Math.floor(Math.random()*keys.length)];
question=data[answer][Math.floor(Math.random()*data[answer].length)];
document.getElementById("h1").textContent=question;
document.getElementById("button").innerHTML="answer!";
var input = document.createElement("input");
input.setAttribute("type","number");
input.setAttribute("id","myanswer");
var div=document.getElementById("div");
div.insertBefore(input,div.firstChild)
document.getElementById("myanswer").value="";
}
function fanswer(){
question=document.getElementById("h1").textContent;
myanswer=Math.floor(document.getElementById("myanswer").value);
document.getElementById("myanswer").remove();
try {
if (data[myanswer].includes(question)){
document.getElementById("h1").textContent="正解！";
} else {
document.getElementById("h1").textContent="不正解！";
}
} catch(e) {
document.getElementById("h1").textContent="不正解！";
}
document.getElementById("button").innerHTML="start!";
}
</script>
<body>
<h1 id="h1">歴史年表クイズ！</h1>
<div id="div"></div>
<br>
<button onclick="fbutton()" id="button">start!</button>
</body>
</html>
